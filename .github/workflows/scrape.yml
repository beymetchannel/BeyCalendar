name: Manual Scraper Test (FINAL FIX)

on:
  workflow_dispatch:

jobs:
  test-run:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.10'

      # 3. インストールを単独ステップとして実行 (最も単純な形式)
      - name: A_FORCE_INSTALL_SELENIUM
        # インストールコマンドのみを記述し、実行を強制する
        run: pip install selenium webdriver-manager
      
      # 4. インストール済みかを確認 (デバッグ用)
      - name: B_VERIFY_INSTALLATION
        run: pip list | grep selenium

      # 5. ファイルを実行
      - name: C_RUN_SCRAPER
        run: python scraper.py
